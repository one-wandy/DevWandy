{% extends "base/base.html" %}
{% block content %}
{% load humanize %}
{% load static %}
<style>

      .option-creditos{
            display: block !important;
      }
      .btn-creditos
{
      background-color: var(--bg-enfasis) !important;
      color: white !important;
      width: max-content !important;
      
}
.btn-creditos img 
{
      display: none;
}
.btn-creditos span
{

}
      .text-black-50 
      {
            font-size: 14px;
      }
      .credits li 
      {
            list-style: none;
      }
      .extends-div
      {
            display: block !important;
          
      }
      .surper-bg
      {
            background-color: rebeccapurple !important;
      }
      .inputs  
      {
            border: 1px rgb(255, 255, 255);
            outline: none !important;
      }
      .di-cn {
            border-radius: 1.5rem;
            padding: 0.5rem 1rem;
            display: inline-block;
            margin: 0.2rem;
            width: max-content;
         
      }  
      .di-cn span
      {
            color: #828282 !important;
            font-size: 14px; 
            font-family: Chillax;  font-weight: 500 !important;
      }
      .di-cn strong
      {
            color: #8a8a8a !important;
            font-family: Chillax;  font-weight: 500 !important;
            font-size: 12px ;

      }
      table td 
      {
            font-size: 12px; 
            font-family: Chillax;  font-weight: 500 !important;
      }
      table th 
      {
            font-size: 14px; color: #818080;
            font-weight: 500;
            font-family: Chillax;
      }
      .fixed-bottom {
            background-color: #343a40;
            color: white;
            text-align: center;
            padding: 0.5rem;
            width: 100%;
      }
      .btn-apple {
            display: inline-block;
            /* padding: 0.1rem 1.3rem !important; */
            border-radius: 1.4rem !important;
            box-shadow: 0 4px 8px rgba(124, 124, 124, 0.1), 0 6px 20px rgba(214, 214, 214, 0.1) !important;
            background-color:  #ffffffe0  !important;
            color: #959595 !important;
            font-size: 14px;
            font-weight: normal;
            text-align: center;
            text-decoration: none;
            transition: all 1s ease;
            width: max-content !important;
            height: 2.2rem !important;
            min-width: 7rem;
      }
      .btn-apple:hover {    
            box-shadow: 5px 5px 10px #d9d9d9, -5px -5px 10px #ffffff; 
      }
      .py-3 img 
      {
            margin-right: 0.5rem;
            width: 20px;
      }
      .btn-es 
      {
            color: rgb(165, 165, 165);
            border: 1px solid rgb(226, 226, 226);
            border-radius: 1rem;
            overflow: visible !important;
            margin: 0.1rem;
            background-color: #efefef ;
      }
      .btn-es-on
      {
            background-color: rgb(126, 171, 255);
            color: white;
      } 
      .input-of
      {
            background-color: #efefef !important;
            border: none !important;
      }
      .super-shadow {
            /* scale: 1; */
            /* margin: 0.2rem; */
            box-shadow: 0 4px 8px rgba(150, 171, 227, 0.333), 0 6px 10px rgba(236, 236, 236, 0.1) !important;
            /* background-color: rgba(237, 237, 237, 0.396) !important; */
            border: 2px solid #ece9e9 !important;
      }
      /* Definimos el efecto de flip-up */
      @keyframes flip-up {
      0% {
            transform: rotateX(90deg);
            opacity: 1;
      }
      100% {
            transform: rotateX(0deg);
            opacity: 1;
      }
      }

      /* Clase que aplicará la animación */
      .flip-up {
      animation: flip-up 0.8s ease-in-out;
      transform-origin: bottom; /* Punto de rotación */
      opacity: 1; /* Oculto por defecto */
      }


      /* Definimos el efecto de flip-down */
      @keyframes flip-down {
      0% {
            transform: rotateX(-90deg);
            opacity: 0;
      }
      100% {
            transform: rotateX(0deg);
            opacity: 1;
      }
      }

      /* Clase que aplicará la animación */
      .flip-down {
      animation: flip-down 1s ease-out ;
      transform-origin: top; /* Punto de rotación */
      opacity: 0; /* Oculto por defecto */
      }

      .green-span {
                  background-color: #ebf4ff; /* Light green background */
                  color: #005180; /* Green text */

                  font-size: 12px;
                  padding: 0.2rem 0.5rem;
                  border-radius: 1rem;
      }
      .grey-span {
            background-color: #ececec6c; /* Light green background */
                  color: #8b8b8b !important; /* Green text */

                  font-size: 12px;
                  padding: 0.2rem 0.5rem;
                  border-radius: 1rem;
      }
      .danger-span {
            background-color: #f8d7da; /* Light green background */
                  color: #721c24; /* Green text */

                  font-size: 12px;
                  padding: 0.2rem 0.5rem;
                  border-radius: 1rem;
      }
      .verder-span {
            background-color: #d4edda; /* Light green background */
                  color: #155724; /* Green text */

                  font-size: 12px;
                  padding: 0.2rem 0.5rem;
                  border-radius: 1rem;
      }
      @keyframes moveInCircle {
            0% {
                  transform: rotate(0deg) translateX(50px) rotate(0deg);
            }
            100% {
                  transform: rotate(360deg) translateX(50px) rotate(-360deg);
            }
      }

      .colors {
            animation: moveInCircle 7s linear infinite;
      }
      .btns-creditos-opciones  button
      {
            font-size: 12px !important;
            border: none !important;
      }

      * Contenedor principal */
        .alphabet-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
            gap: 15px;
            padding: 20px;

            border-radius: 15px;
            background: rgba(0, 0, 0, 0.5);

        }

        /* Letras individuales */
        .letter {
            font-size: 1.5rem;
            font-weight: bold;
            background: transparent;
            color: var(--bg-enfasis);
            margin: 0.3rem;
            display: flex;
            width: 2rem; height: 2rem;
            justify-content: center;
            min-width: 2rem; min-height: 2rem;
            align-items: center;
            border-radius: 50%;

            transition: transform 0.3s ease, background-color 0.3s ease;
            cursor: pointer;
        }

        /* Efecto hover */
        .letter:hover {
            transform: scale(1.2);
            background-color: var(--bg-enfasis);
            color: white;
        }
        .letter-hover{
            transform: scale(1.2);
            background-color: var(--bg-enfasis);
            color: white;
        }
        .shadow-1
        {
            box-shadow: 0 4px 8px rgba(150, 171, 227, 0.333), 0 6px 10px rgba(236, 236, 236, 0.1) !important;
        }
      
</style>
<section class="overflow-scroll vh-100">
      <div data-aos="fade-in"  style="transition-delay: 0.3s;" class="w-100  d-flex justify-content-center   position-absolute blur-10 z-1 top-0 bg-transparent">
            <div style="max-width: 99%;" class="d-flex bg-transparent rounded-5 m-1  p-1 pt-2 pb-2">
                  <input type="text" class="rounded-5 me-2  buscador-credito  p-2 text-center bg-white bg-opacity-75"  placeholder=" Nombre, Fecha, Numero y Cedula" name="" style="width: 30rem; font-size: 13px; border: 1px solid rgb(229, 229, 229); outline: none !important;" id="">
                  <div class="alphabet-container d-flex   overflow-scroll" id="alphabetContainer"></div>
            </div>
            <div class="list_data_credits shadow-1 position-absolute start-0 card  d-none rounded-5 p-3  bg-white  z-2" style="max-height: 30rem; width: 40rem; top: 4rem;">
                  Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aut laudantium animi ad sequi nesciunt corrupti blanditiis praesentium odio explicabo. Velit esse eaque vel error laboriosam obcaecati animi aspernatur qui tempore. Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum sunt officia, vero, soluta iure id sequi odit veniam laborum eveniet in, asperiores ullam dolor natus voluptatum doloribus aperiam alias consectetur?
            </div>
      </div>
      <div class="mt-5 pt-3">
            {% include "components/a-b-c-list-credit.html" %}
      </div>
</section>
<script>
      // Selecciona el contenedor
      const alphabetContainer = document.getElementById('alphabetContainer');



      // Genera las letras del abecedario dinámicamente
      for (let i = 65; i <= 90; i++) { // Código ASCII de 'A' es 65 y de 'Z' es 90
          const letter = String.fromCharCode(i); // Convierte el código ASCII a letra
          const letterDiv = document.createElement('div'); // Crea un elemento div
          letterDiv.classList.add('letter')  // Agrega la clase
          letterDiv.textContent = letter; // Asigna la letra al contenido
          alphabetContainer.appendChild(letterDiv); // Añade el div al contenedor
      }
  </script>
<script>
document.querySelectorAll('.letter').forEach(letter => {
    letter.addEventListener('click', function() {
        // Alternar la clase 'letter-hover' en el elemento clicado
        if (this.classList.contains('letter-hover')) {
            this.classList.remove('letter-hover');
        } else {
            this.classList.add('letter-hover');

            // Remover 'letter-hover' de los demás elementos
            document.querySelectorAll('.letter').forEach(otherLetter => {
                if (otherLetter !== this) {
                    otherLetter.classList.remove('letter-hover');
                }
            });
        }
    });
});

      function ActiveOptions() {
            const optionsDiv = document.querySelector('.btns-creditos-opciones');
            optionsDiv.classList.toggle('d-none');
      }

      let input_search_credits =   document.querySelector('.buscador-credito')
      document.addEventListener('DOMContentLoaded', ()=>{
            input_search_credits.focus()
      } )
      
let data_credit_coming = false

input_search_credits.addEventListener('input', ()=> {

      console.log(input_search_credits.value)
      if(input_search_credits.value.length > 0){
            document.querySelector('.list_data_credits').classList.remove('d-none')
      } else {
            document.querySelector('.list_data_credits').classList.add('d-none')
      }
}
)
window.addEventListener("DOMContentLoaded", function() {
      if( document.querySelector('#search-data')) {
            input_search_credits.addEventListener('click', function() {
                  if (data_credit_coming == false) {
                        CallDataCredit();
                  }
            });
      }
  
        function CallDataCredit() {
            console.log('Loading Credits Data...');
            let list_data = document.querySelector('.list_data_credits')
            const url = 'searching/credit';
            $.ajax({
                url: url,
                success: function(data){
                  data_credit_coming = true
                  search_data.addEventListener('input', (event) => {
                        const input_search_credits = event.target.value;
                        const filtered_data = data.filter((config) => {
                              return config.filter.toLowerCase().includes(input_search_credits.toLowerCase());
                        });

                        list_data.innerHTML = ''
                        for (const c  of filtered_data) {
                              let container = document.createElement("div")
                                    container.classList.add('container_list')
                              let button = document.createElement('button');
                                    container.classList.add('w-100')
                                    button.classList.add('border-1', 'p-0' )
                                    button.id = c.id
                                    button.addEventListener('click', function() {
                                          document.getElementById('input-send-data').value = this.id
                                          document.getElementById('btn-send-data').click()
                                    });
                                    button.innerText = c.name
                                    container.appendChild(button)
                                    list_data.appendChild(container);
                        }

   

                  });
            },
                  error: function(xhr, status, error) {
                        console.error('Error en la solicitud AJAX:', status, error);
                  }
                  });
            }
});

</script>


{% endblock  %}