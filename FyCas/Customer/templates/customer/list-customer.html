{% extends "base/base.html" %}
{% block content %}
{% load static %}
{% load humanize %}

<style>
      a
      {
            color: #383838 !important;
      }
      .contdiv 
      {
            width: 320px;
            background-color: rgba(255, 255, 255, 0.979);
      }
      .img-js
      {
            border-radius: 1.2rem;
      }
      .img-border
      {
            /* border: #e4e4e4 1px solid; */
            margin-bottom: 1px;
            {% comment %} filter: blur(5px); {% endcomment %}
      }
      .referencias:hover{
            height: auto !important;
            transition: 0.10ms !important;
      }
      .address:hover{
            height: auto !important;
      }
      .info-laboral:hover{
            height: auto !important;
      }
      .datos span
      {
            color: #494949;
            font-weight: normal !important;
            font-size: 16px;
            font-weight: 400;
            font-family: Quicksand, sans-serif;
            font-optical-sizing: auto;
      }
      .datos strong
      {
            color: #383838;
            font-family: Quicksand, sans-serif;
            color: black;
            font-optical-sizing: auto;
      }
      #searching-config {
            padding: 0 !important;
            outline: none;
            border: 0px rgba(185, 185, 185, 0.849) solid !important;
            background-color: rgba(252, 252, 252, 0.589);
            z-index: 2;
            margin-left: 1px !important;
            box-shadow: #e6e6e6 1px 2px 4px 1px;
            border-radius: 1.7rem !important;
            /* max-height: 2.2rem !important; */
      }
      #searching-config:hover{
            /* border: 0px rgb(185, 185, 185) solid !important; */

      }
      .zoom
      {
            width: 10rem !important;
            border: 1px rgb(233, 233, 233) solid !important;
      }
      .contDiv
      {
            border-radius: 1.5rem;
            margin-bottom: 4px;
            margin-left: 4px;
            padding: 1px;
            font-size: 14px;
            width: auto !important;

      }
      @keyframes rotarColores {
  0% {
    background-image: linear-gradient(
      to right,
      rgb(255, 133, 133) 0%,
      rgb(221, 137, 255) 50%,
      rgb(128, 179, 255) 100%
    );
  }
  50% {
    background-image: linear-gradient(
      to right,
      rgb(128, 179, 255) 0%,
      rgb(255, 133, 133) 30%,
      rgb(221, 137, 255) 30%
    );
  }

  100% {
    background-image: linear-gradient(
      to right,
      rgb(128, 179, 255) 0%,
      rgb(255, 133, 133) 50%,
      rgb(221, 137, 255) 90%
    );
  }
  

}

.contDiv {
  width: 40rem;
  height: max-content;
  background-image: linear-gradient(
    to right,
    rgb(255, 133, 133) 0%,
    rgb(221, 137, 255) 50%,
    rgb(128, 179, 255) 100%
  );
  animation: rotarColores 3s infinite ease;
}


.three-body {
 --uib-size: 20px;
 --uib-speed: 0.8s;
 --uib-color: #af9bff;
 position: relative;
 display: inline-block;
 height: var(--uib-size);
 width: var(--uib-size);
 animation: spin78236 calc(var(--uib-speed) * 1.5) infinite linear;
}

.three-body__dot {
 position: absolute;
 height: 100%;
 width: 35%;
}

.three-body__dot:after {
 content: '';
 position: absolute;
 height: 0%;
 width: 100%;
 padding-bottom: 100%;
 background-color: var(--uib-color);
 border-radius: 50%;
}

.three-body__dot:nth-child(1) {
 bottom: 5%;
 left: 0;
 transform: rotate(60deg);
 transform-origin: 50% 85%;
}

.three-body__dot:nth-child(1)::after {
 bottom: 0;
 left: 0;
 animation: wobble1 var(--uib-speed) infinite ease-in-out;
 animation-delay: calc(var(--uib-speed) * -0.3);
}

.three-body__dot:nth-child(2) {
 bottom: 5%;
 right: 0;
 transform: rotate(-60deg);
 transform-origin: 50% 85%;
}

.three-body__dot:nth-child(2)::after {
 bottom: 0;
 left: 0;
 animation: wobble1 var(--uib-speed) infinite
    calc(var(--uib-speed) * -0.15) ease-in-out;
}

.three-body__dot:nth-child(3) {
 bottom: -5%;
 left: 0;
 transform: translateX(116.666%);
}

.three-body__dot:nth-child(3)::after {
 top: 0;
 left: 0;
 animation: wobble2 var(--uib-speed) infinite ease-in-out;
}

@keyframes spin78236 {
 0% {
  transform: rotate(0deg);
 }

 100% {
  transform: rotate(360deg);
 }
}

@keyframes wobble1 {
 0%,
  100% {
  transform: translateY(0%) scale(1);
  opacity: 1;
 }

 50% {
  transform: translateY(-66%) scale(0.65);
  opacity: 0.8;
 }
}

@keyframes wobble2 {
 0%,
  100% {
  transform: translateY(0%) scale(1);
  opacity: 1;
 }

 50% {
  transform: translateY(66%) scale(0.65);
  opacity: 0.8;
 }
}
#div-list-customer button {
      border-color: rgb(49, 49, 49);
      color: rgb(49, 49, 49);
      font-family: Quicksand, sans-serif;
      font-weight: bold;

}
.contdiv button
{
      background-color: rgba(207, 207, 207, 0.69) !important;
      padding: 5px 10px !important;
      border-radius: 1rem !important;
}
@media (min-width: 600px) 
{
      .list-group-item 
      {
            max-width: 330px !important;
      }
}
btn-sliders-nav
{

}
</style>

<div class="w-100 d-flex justify-content-end ">
      <div id="config-list" 
      class="position-fixed w-100   justify-content-center d-flex flex-wrap" 
      style="justify-content: center; bottom: 3.9rem; z-index: 100; max-width: 70rem;">
      </div>
</div>

<section id="section" class="rounded-0  d-flex  justify-content-center
      overflow-scroll p-1 w-100  vh-100  mt-0" >
      <div id="text-c" class="w-100 justify-content-center position-fixed flex-wrap" 
            style="display: none; z-index: 105; bottom: 1rem;" >
            <h5 class="position-absolute" style='bottom:5rem;'  >
                  "<span id="user-no"></span>"  no registrado
            </h5>
      </div>  

      <div id='div-list-customer' style="display: flex; border-radius: 1rem !important; min-width: 300px; width: 90%; height: 100vh;" 
            class="w-100 overflow-scroll   flex-wrap justify-content-center">
            <div class="position-sticky w-100  overflow-scroll top-0 blur p-1 " style="z-index: 100; height: 3.2rem;">
                        {% include "components/btn-filter.html" %}
            </div>
            {% for c in customer %}
                  <li  id='li{{c.id}}' class="list-group-item position-relative bg-opacity-25  
                        no-select  m-1 p-0 m-0 mb-3 bg-white  pb-5 h-auto" 
                        style=" border-radius:1.5rem;  width: 100% !important; 
                        box-shadow: 0px 2px 2px 1px rgba(192, 192, 192, 0.305) ; 
                        max-height: 20.5rem;    
                        border: rgba(227, 227, 227, 0.905) 0px solid;">
                        <script>
                              function Credit(N) {
                                    let div = document.getElementById('div' + N)
                                    let li = document.getElementById('li' + N)
                                    if (!div.classList.contains('d-none')) {
                                          div.classList.add('d-none');
                                      }
                                    else {

                                          div.classList.remove('d-none');
                                    }
                                      
                                    if (!li.classList.contains('d-none')) {
                                          li.classList.add('d-none');
                                      }
                                    else {

                                          li.classList.remove('d-none');
                                    }
                                      
                                    console.log(N)
                              }
                        </script>
                        <div class="d-flex  " style="font-size: 14px !important;  ">
                              <div class="d-flex flex-wrap ">
                                    <div class="w-100 d-flex">
                                          <a href="{% url "customer:detail-customer" c.id %}" 
                                                class='w-100 d-flex position-relative'>      
                                                <div id="div-img" class='w-100 d-flex bg-transparent'
                                                      style='background-image: url({{c.img1}});  
                                                      background-position: center;
                                                      background-repeat: no-repeat;
                                                      background-size: cover;
                                                      max-width: 380px;
                                                      min-height: 150px;
                                                      border-radius: 1.5rem !important;'  >
                                                </div>                                    
                                          </a>
                                    </div>
                                    <div class="d-flex align-content-center p-2 pt-0 flex-wrap datos" >
                                          <span class="w-100  text-black" 
                                                style="color: #383838;
                                                font-family: Quicksand, sans-serif;
                                                color: black;
                                                font-size: 28px;
                                                font-weight: 400; " >
                                                {% if c.estatus == 'S' %}
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi text-primary bi-check2-circle" viewBox="0 0 16 16">
                                                      <path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"/>
                                                      <path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"/>
                                                      </svg>
                                                {% endif %}
                                                <strong class="d-none">Nombre:</strong> 
                                                <span class="text-black  p-0 m-0" 
                                                      style='font-family: Quicksand, sans-serif;
                                                      color: black;
                                                      font-size: 14px;
                                                      font-optical-sizing: auto;'>
                                                      {% if c.customer_verify == True %}
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-patch-check-fill text-primary" viewBox="0 0 16 16"><path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708"/>
                                                            </svg>
                                                      {% else %}
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-fill" viewBox="0 0 16 16">
                                                            <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901"/>
                                                            </svg>
                                                            <span id='count-n'>
                                                                  {{new_customer}}
                                                            </span>
                                                      {% endif %}
                                                      {{ c.name}} {{c.last_name}} 
                                                
                                                </span> 
                                         </span> 
                                         <a  href="https://api.whatsapp.com/send?phone=+1{{c.number}}&text=Estimado(a) {{c.name}} {{c.last_name}}"  class="m-0 p-0">
                                          <span class="w-100 text-black" style="font-size: 14px;">
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-telephone-fill "  viewBox="0 0 16 16">
                                                      <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
                                                      </svg>
                                                      {{c.number}}
                                          </span>
                                         </a>
                                         <span class="w-100 d-flex" style="font-size: 14px;">
                                                <strong>
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-person-vcard-fill  me-1" viewBox="0 0 16 16">
                                                      <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm9 1.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0-.5.5M9 8a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1h-4A.5.5 0 0 0 9 8m1 2.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0-.5.5m-1 2C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1 1 0 0 0 2 13h6.96q.04-.245.04-.5M7 6a2 2 0 1 0-4 0 2 2 0 0 0 4 0"/>
                                                    </svg>
                                                </strong> 
                                                {{c.dni}} 
                                         </span>
                                         <span class="w-100   overflow-hidden d-flex" style="height: 2.5rem ">
                                                <strong class="">     
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-geo-alt-fill text-black me-1" viewBox="0 0 16 16">
                                                      <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/></svg>
                                                </strong>
                                                <a class="" style=" text-transform: capitalize; font-size: 14px !important;" >
                                                      {{c.calle_numero}},  {{c.municipio}}, <br>  {{c.sector}}, {{c.ciudad}}
                                                </a>
                                          </span>
                                          <span class='w-100 d-none'>
                                                      <strong class="">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-buildings-fill  text-black" viewBox="0 0 16 16">
                                                            <path d="M15 .5a.5.5 0 0 0-.724-.447l-8 4A.5.5 0 0 0 6 4.5v3.14L.342 9.526A.5.5 0 0 0 0 10v5.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V14h1v1.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5zM2 11h1v1H2zm2 0h1v1H4zm-1 2v1H2v-1zm1 0h1v1H4zm9-10v1h-1V3zM8 5h1v1H8zm1 2v1H8V7zM8 9h1v1H8zm2 0h1v1h-1zm-1 2v1H8v-1zm1 0h1v1h-1zm3-2v1h-1V9zm-1 2h1v1h-1zm-2-4h1v1h-1zm3 0v1h-1V7zm-2-2v1h-1V5zm1 0h1v1h-1z"/>
                                                      </svg>
                                                      </strong>
                                          </span>
                               
                                   
                                          <div  class="w-100 mt-2 justify-content-end position-relative  d-flex m-0 
                                                d-flex align-content-center  " style=" border-radius: 13rem;">
                                                <span class='w-100 text-capitalize mt-2 p-1 text-black-50' style="font-size: 14px; margin-left: 0.5rem;">
                                                          {{ c.day_created|date:"F/d/Y" }}
                                                </span>
                
                                                {% if c.customer_verify == False %}
                                                      <a id='{{c.id}}'  onclick='CustomerVerify(this.id)' 
                                                            class='p-0   ms-1 mb-1' style="width: 1.7rem;">
                                                            <button class="border-0  bg-transparent p-0 pt-1" style='color:#000000;'> 
                                                                  <img src="{% static "icons/add-client.png" %}" width='26' style='max-width:26px;' alt="">
                                                            </button>
                                                      </a>
                                                {% endif %}
                                                <div>

                                                </div>
                                                <button id='{{c.id}}' class='border-0 bg-transparent shadow-none' 
                                                onclick='OpenCloseBtn(this.id)'>
                                                       <img src="{% static "svg/more.svg" %}" width='26' style='max-width:26px;' alt="">
                                                </button>
                                          </div>
                                    </div>
                              </div>
                        </div>
                       <div id='div-more{{c.id}}' class='blur d-none shadow  bg-white bg-opacity-50  card position-relative w-100   
                              position-absolute start-0  p-4  ' 
                              style='top:18rem; z-index: 160; border-radius:2rem; font-family: Quicksand, sans-serif;
                              color: black; font-size: 16px; font-optical-sizing: auto; z-index: 11;'>
                              <style>
                                    #div-more{{c.id}}, span:hover {
                                          cursor: pointer;
                                    }
                                    #div-more{{c.id}} span h6 {
                                          font-size: 12px;
                                    }                                    
                              </style>
                              <span class="w-100 d-flex justify-content-end start-0 position-absolute top-0">
                                    <button id='{{c.id}}' class='border-0 p-0 me-3  mt-3 bg-transparent shadow-none' 
                                          onclick='OpenCloseBtn(this.id)' >
                                          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                          <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                                          </svg>
                                    </button>

                              </span> 
                              <span class="">
                                    <h6  class="text-black-50 p-0 m-0 pb-1">
                                          Elecciones opcionales
                                    </h6>
                              </span>
                              <span style="font-size: 14px;">
                                    <div>
                                          <input type="checkbox" id="hijos" name="hijos" class="form-check-input m-0 me-1" {% if c.hijos %}checked{% endif %} disabled>
                                          <label for="hijos" class="m-0">Hijos</label>
                                    </div>
                                    <div>
                                          <input type="checkbox" id="tierra" name="tierra" class="form-check-input m-0 me-1" {% if c.tierra %}checked{% endif %} disabled>
                                          <label for="tierra">Tierra</label>
                                    </div>
                                    <div>
                                          <input type="checkbox" id="vehiculo" name="vehiculo" class="form-check-input m-0 me-1" {% if c.vehiculo %}checked{% endif %} disabled>
                                          <label for="vehiculo">Vehículo</label>
                                    </div>
                                    <div>
                                          <input type="checkbox" id="casa" name="casa" class="form-check-input m-0 me-1" {% if c.casa %}checked{% endif %} disabled>
                                          <label for="casa">Casa</label>
                                    </div>
                                    <div>
                                          <input type="checkbox" id="saldar_deudas" name="saldar_deudas" class="form-check-input m-0 me-1" {% if c.saldar_deudas %}checked{% endif %} disabled>
                                          <label for="saldar_deudas">Saldar Deudas</label>
                                    </div>
                                    <div>
                                          <input type="checkbox" id="familiar_en_fycas" name="familiar_en_fycas" class="form-check-input m-0 me-1" {% if c.familiar_en_fycas %}checked{% endif %} disabled>
                                          <label for="familiar_en_fycas">Familiar en Fycas</label>
                                    </div>
                                    <div>
                                          <input type="checkbox" id="fue_recomendado" name="fue_recomendado" class="form-check-input m-0 me-1" {% if c.fue_recomendado %}checked{% endif %} disabled>
                                          <label for="fue_recomendado">Fue Recomendado</label>
                                    </div> 
                              </span> <br>
                              <span >
                                    <h6 class="text-black-50 m-0 p-0 pb-1" id='requiere{{c.id}}'>
                                          Monto solicitado y fines
                                    </h6>
                              </span>
                              <span style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-dollar" viewBox="0 0 16 16">
                                          <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"/>
                                        </svg>  <span id='monto-spa{{c.id}}'>{{c.monto_requerido}}</span> 
                              </span> <br>
                              <span style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
                                          <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5tasav-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
                                          <path d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8m0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5"/>
                                        </svg> {{c.fines}}
                              </span>
                               <br> <br>
                              <span>
                                    <h6 class="text-black-50 m-0 p-0 pb-1">
                                          Referencias personales
                                    </h6>
                              </span>
                              <span class='' style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="text-black bi bi-people-fill" viewBox="0 0 16 16">
                                          <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                                        </svg>
                                    {{c.name_r1}} -
                              </span>
                              <span style="font-size: 14px;"> 
                               
                                    {{c.number_r1}}
                              </span>
                              <br>
                              <span class='' style="font-size: 14px !important;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="text-black bi bi-people-fill" viewBox="0 0 16 16">
                                          <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                                        </svg>
                                    {{c.name_r2}} - 
                              </span>
                              <span style="font-size: 14px;">
                                    {{c.number_r2}}
                              </span>
                              <br> <br>
                              <span style="font-size: 14px;">
                                    <h6 class="text-black-50 m-0 p-0 pb-1"> 
                                          Información Laboral
                                    </h6>
                              </span>
                              <span style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-buildings-fill" viewBox="0 0 16 16">
                                          <path d="M15 .5a.5.5 0 0 0-.724-.447l-8 4A.5.5 0 0 0 6 4.5v3.14L.342 9.526A.5.5 0 0 0 0 10v5.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V14h1v1.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5zM2 11h1v1H2zm2 0h1v1H4zm-1 2v1H2v-1zm1 0h1v1H4zm9-10v1h-1V3zM8 5h1v1H8zm1 2v1H8V7zM8 9h1v1H8zm2 0h1v1h-1zm-1 2v1H8v-1zm1 0h1v1h-1zm3-2v1h-1V9zm-1 2h1v1h-1zm-2-4h1v1h-1zm3 0v1h-1V7zm-2-2v1h-1V5zm1 0h1v1h-1z"/>
                                        </svg> {{c.empresa_trabaja}} 
                              </span>  <br>
                              <span style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                                          <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
                                        </svg>  {{c.phone}}
                              </span>
                              <br>
                              <span style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-workspace" viewBox="0 0 16 16">
                                          <path d="M4 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-5.95a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                                          <path d="M2 1a2 2 0 0 0-2 2v9.5A1.5 1.5 0 0 0 1.5 14h.653a5.4 5.4 0 0 1 1.066-2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v9h-2.219c.554.654.89 1.373 1.066 2h.653a1.5 1.5 0 0 0 1.5-1.5V3a2 2 0 0 0-2-2z"/>
                                        </svg>  {{c.cargo}}
                              </span> <br>
                              <span style="font-size: 14px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
                                          <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0"/>
                                          <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z"/>
                                          <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z"/>
                                          <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567"/>
                                        </svg> {{c.salario_m|intcomma}}.00
                              </span>
                              
                              {% if c.credit.all %}
                              <br><br>
                              <span>
                                    <h6 class="text-black-50 m-0 p-0 pb-1"  > 
                                          Listado de creditos
                                    </h6>
                              </span>
                              <div class='d-flex flex-wrap   overflow-scroll w-100 justify-content-center' style="height: 14rem;"  >
                                    {% include "components/list-credi.html" %}
                              </div>
                              {% endif %}
                              <br><br>
                              <span class="">
                                    <h6 class="text-black-50 m-0 p-0 pb-1"  > 
                                          Acciones de credito
                                    </h6>
                              </span>
                              <span class='w-100 d-flex justify-content-center btn-share-con' >
                                    <!-- <button style='border-radius: 1.5rem;'>
                                          Eliminar 
                                    </button> -->
                                    <button  onclick='OpenCloseBtnCredit(this.id)' id='{{c.id}}' style='border-radius: 1.5rem;' >
                                          Crear 
                                    </button>
                                    <button style='border-radius: 1.5rem;'>
                                          + Bono
                                    </button>
                                    <button style='border-radius: 1.5rem;'>
                                          Saldar
                                    </button>
                              </span>
                              <br>
                              {% comment %} Crear {% endcomment %}
                                    <div  class='d-flex flex-wrap d-none mb-3' id='div-credit{{c.id}}'>
                                          <span class='w-100'>
                                                <h6 class="text-black-50 m-0 p-0 pb-1"> 
                                                      Crear credito
                                                </h6>
                                          </span>
                                          <section class="d-flex  ">
                                
                                                <div class='form-floating w-50 m-0' >
                                                      <input type="text" class='form-control monto-input m-0 ' value="999" id='monto{{c.id}}' placeholder='Monto a recibir' style='border-radius:2rem !important; 
                                                      max-width: 130px !important;'>
                                                      <label for="monto{{c.id}}">Monto requirido</label>
                                                </div>

                                                <div class="form-floating w-50">
                                                      <input type="date"   class=' form-control' id='dia{{c.id}}'  style="max-width: 130px !important;">
                                                      <label for="dia{{c.id}}">Dia de pago</label>
                                                </div>
                                          </section>
                                          <div class="w-100">
                                                <span id="result-cuota{{c.id}}">

                                                </span>
                                          </div>
                                          <div class=''>
                                                
                                                <input type="text" class='m-0 mt-1 d-none  form-control input' id='monto_pagar{{c.id}}' placeholder='Monto a pagar' style='border-radius:2rem !important;'>
                                          </div>
                                          <span class='d-flex pe-2 mt-1 w-100 justify-content-end'>

                                                <button onclick="restar(this.id)" class='bg-transparent border-0 m-0 me-2 p-0' id='{{c.id}}'>
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-dash-circle text-danger" viewBox="0 0 16 16">
                                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"/>
                                                          </svg>
                                                      {% comment %} Restar {% endcomment %}
                                                </button>
                                                
                                                <input type="number" min="0" class='m-0 text-center border-0  overflow-visible bg-transparent' value='1' id='cuotas{{c.id}}'   style='max-width: 3rem !important;' placeholder='Cuotas'>
                                                <button onclick="sumar(this.id)" class='border-0 bg-transparent p-0 m-0 ' id='{{c.id}}'>
                                                      {% comment %} Sumar {% endcomment %}
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-plus-circle text-primary" viewBox="0 0 16 16">
                                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                                                          </svg>
                                                </button>
                                          </span>
                                          <div class='w-100 mt-4 pt-3 d-flex  justify-content-end'>
                                                <button onclick='OpenCloseBtnCredit(this.id)' id='{{c.id}}' class=' bg-transparent'>Cancelar</button>
                                                <button onclick='CreateCreditAjax(this.id)' id='{{c.id}}' class='text-white border-0 ' style='background-image: radial-gradient(circle 248px at center, #16d9e3 0%, #30c7ec 47%, #46aef7 100%);border-radius: 1.5rem; width: 7rem;'> Crear</button>
                                          </div>
                                          <div class='w-100'>
                                                <hr>
                                          </div>
                                    </div>
                              
                              <span>
                                    <h6 class="text-black-50 m-0 p-0 pb-1" > 
                                          Acciones de aprobacion
                                    </h6>
                              </span>
                              
                              <span class='w-100 d-flex justify-content-center btn-share-con'>
                           
                                    <a  href="https://api.whatsapp.com/send?phone=+1{{c.number}}&text=Estimado(a) {{c.name}} {{c.last_name}} su solicitud ha sido declinada en este momento. para mas detalles, haga clic en el siguiente enlace -> https://grupofycas.online/no-approved/customer" >
                                          <button class='text-black '
                                                style='border-radius: 1.5rem;'>
                                                Declinar
                                          </button>
                                    </a>
                                    <a href="https://api.whatsapp.com/send?phone=+1{{c.number}}&text=Estimado(a) {{c.name}} {{c.last_name}} Actualmente aplica para un prestamo estandar con un monoto minimo de *($7,000.00)*, si deseas puede obtener un mayor monto con una garantia fisica que avale el monto solicitado. ¿Desea continuar con el proceso *(Estandar)* o *(Garantizado)*?" >
            
                                    <button class='text-white border-0' style='background-image: linear-gradient(to right, #f78ca0 0%, #f9748f 19%, #fd868c 60%, #fe9a8b 100%); border-radius: 1.5rem;'>
                                         Estandar
                                    </button>
                              </a>
                              <a href="https://api.whatsapp.com/send?phone=+1{{c.number}}&text=Estimado(a) *{{c.name}} {{c.last_name}}*%0A%0A*Informacion de solicitud*%0ADebido a su precalificasion, por el momento no califica para el tipo de préstamo solicitado, podemos evaluarle en base a una garantía física que avale el monto solicitado.
                                    " >
                                    <button class='text-white border-0' style='background-image: linear-gradient(120deg, #72a8ff 0%, #acc7ff 100%); border-radius: 1.5rem;'>
                                          Garantia
                                    </button>
                              </a>
                              </span>
                              <br> 
                              <span class='w-100'>
                                    <h6 class="text-black-50 m-0 p-0 pb-1"> 
                                          Estado del cliente 
                                    </h6>
                              </span>
                              <span>
                                    <button onclick='DisableCustomer(this.id)' id="{{c.id}}" class="border-0 m-0 p-0 bg-transparent" style="border-radius: 18rem;">
                                                
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-toggle-on text-primary" viewBox="0 0 16 16">
                                                      <path d="M5 3a5 5 0 0 0 0 10h6a5 5 0 0 0 0-10zm6 9a4 4 0 1 1 0-8 4 4 0 0 1 0 8"/>
                                                    </svg>
                                                <span>
                                                      Desactivar
                                                </span>
                                    </button>
                              </span>
                       </div>
                  </li>
                  {% endfor %}
                  {% if true %}
                  <div class='w-100 d-flex justify-content-start  mt-2'>
                        <form action="" method="get">
                              <button class='border-0 bg-transparent' style='border-radius: 2rem; border-color: rgb(219, 219, 219)  !important;'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-left-circle  text-primary" viewBox="0 0 16 16">
                                          <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"/>
                                        </svg>
                              </button>
                        </form>
                  </div>
                  {% endif %}
                  <div class="w-100 mb-5 container-fluid   text-center pb-5 ">
                        <span class="text-black-50" style="font-size: 12px;"></span>
                  </div>

            </div>
      <form class='d-none' action="" method="post" id='send-data'>
            {% csrf_token %}
            <input type="text" name='send-data' id='input-send-data'>
            <button id='btn-send-data'>En</button>
      </form>



</section>

    
{% comment %} 
                                                {% if c.credit  %}
                                                      {% for credit in c.credit.all   %}
                                                            <div class='w-100 d-flex flex-wrap'>
                                                                  <span class='w-100'>
                                                                        {{credit.amount|intcomma}}.00
                                                                  </span>
                                                                  <span class='w-100'>
                                                                        Cuotas {{credit.price_feed}} a ${{credit.amount_feed|intcomma}} los dias {% if credit.mode_pay == True %}
                                                                        (15) - (30)
                                                                        {% else %}
                                                                        ({{credit.day_pay}})
                                                                        {% endif %}
                                                                  </span>
                                                            </div>
                                                      {% endfor %}
                                                {% else %}
                                                NOS
                                                {% endif %} {% endcomment %}
<script>
let id_input_select = 0
document.addEventListener('DOMContentLoaded', (event) => {
            // Selecciona todos los elementos de entrada
            const inputs = document.querySelectorAll('.monto-input');
            // Añade un evento de enfoque a cada uno
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    id_input_select = this.id
                    let si = document.querySelector("#"+id_input_select)
                    si.addEventListener('input', function() {
                        let lkj = this.id
                        let delt = lkj.replace(/\D/g, '');
                        let numero_input = document.getElementById(this.id)
                        let numero = numero_input.value.replace(/,/g, ''); // Elimina las comas existentes
                        let capital = parseInt(numero)
                        SuperCalAuto(capital, document.querySelector("#cuotas"+delt).value, 
                        0.15, 
                        "result-cuota"+delt,
                        delt
                        )
                    });
                  });
            });




// monto_input.addEventListener("input", () => {
//       let numero = monto_input.value.replace(/,/g, ''); // Elimina las comas existentes
//       let capital = parseInt(numero)
//       let plazo =   document.querySelector('#')
//       let tasa = 0.15
//       SuperCalAuto(capital, plazo, tasa)
// });
      
      function TurnCustomerFalse(id){
            const url = 'verify-false/customer/';
            $.ajax({
                url: url,
                data: {
                  customer_id: id
                }

            })
      }





function CustomerVerifyNo(id){
      document.getElementById('aprovate-no').classList.remove('d-none')
      document.getElementById('aprovate-no').classList.add('d-block')

      setTimeout(function() {
            document.getElementById('aprovate-no').classList.remove('d-block')
            document.getElementById('aprovate-no').classList.add('d-none')
            // Code to be executed after 5 seconds
      }, 3000);
            const url = 'verify-no/customer/';
            $.ajax({
                url: url,
                data: {
                  customer_id: id
                }

            })
      }

      let searching_config = document.querySelector('.searching-config');
      let config_list = document.getElementById('config-list')
      let config_data;

document.addEventListener('keydown', function(event) {
      if (event.altKey && event.key === 'b') {
            searching_config.focus();
      }
});

searching_config.addEventListener('focus', function() {
      searching_config.style.width = '100%'
      document.getElementById('for-c').style.display = 'block'
      document.getElementById('agregar').style.display = 'none'
      document.getElementById('clientes').style.display = 'none';
});

searching_config.addEventListener('blur', function() {
      searching_config.style.width = '14rem'
      document.getElementById('for-c').style.display = 'flex'
      document.getElementById('agregar').style.display = 'block'
      document.getElementById('clientes').style.display = 'flex';
});


window.addEventListener("DOMContentLoaded", function() {
        ConfigData()
        function ConfigData() {
            const url = 'searching/customer';
            $.ajax({
                url: url,
                success: function(data){
                    config_data = data
                    const searching_config = document.querySelector('.searching-config');
                    searching_config.addEventListener('input', (event) => {
                    const input_value = event.target.value;
                    const filtered_data = data.filter((config) => {
                        return config.name.toLowerCase().includes(input_value.toLowerCase());
                    });
                    config_list.innerHTML = ''
                    var divList = document.getElementById('div-list-customer') 

                    if(filtered_data == ''){
                        document.getElementById("text-c").style.display = 'flex'
                        document.getElementById('user-no').innerHTML = searching_config.value
                  }
                  else{
                        document.getElementById("text-c").style.display = 'none'
                        if(searching_config.value == ''){
                              divList.classList.remove('blur-up')
                        }
                        else{

                              divList.classList.add('blur-up')
                        }

                    }

                    for (const c  of filtered_data) {
                        const div = document.createElement('div');
                        div.classList.add("contdiv",  'justify-content-center' ,'d-flex',)
                        const divCont = document.createElement('div');
                        divCont.classList.add('contDiv' , 'justify-content-center' ,'d-flex',  )
                        div.classList.add("divCon", "p-3", 'card', 'justify-content-center' ,'d-flex',)
                              let divI = document.createElement("div")
                              const imgLink = document.createElement('a');
                              imgLink.href = "/detail-customer/" + c.id
                              imgLink.target = '_blank';
                              let divL = document.createElement("div")
                              let stronL = document.createElement("strong")
                              stronL.textContent = ""
                              let img = document.createElement("img")
                                    // img.classList.add("img", "img-js")
                                    // img.src = c.img
                                //    imgLink.appendChild(stronL)
                                //    divI.appendChild(imgLink)
                              let spanL = document.createElement("span")
                              const nameLink = document.createElement('button');
                              nameLink.classList.add('border-0', 'p-0')
                              nameLink.id = c.id
                              nameLink.addEventListener('click', function() {
                                    // Llamar a la función y pasarle el ID como argumento
                                    document.getElementById('input-send-data').value = this.id
                                    document.getElementById('btn-send-data').click()
                                    // Suponiendo que la función se llama "miFuncion"
                                });
                              //nameLink.href = "/detail-customer/" + c.id
                              //nameLink.target = '_blank';
                              nameLink.innerText = c.name
                              //spanL.classList.add("capitalize")
                                //    spanL.textContent = c.name
                              divL.appendChild(stronL)
                              divL.appendChild(nameLink)

                              let divN = document.createElement("div")
                                    let stronN = document.createElement("strong")
                                          stronN.textContent = ""
                                    let spanN = document.createElement("span")
                                          spanN.textContent = c.dni
                              divN.appendChild(stronN)
                              divN.appendChild(spanN)

                              let divA = document.createElement("div")
                                    // let stronA = document.createElement("strong")
                                          // stronA.textContent = "Informacion Laboral: "
                                    // let spanA = document.createElement("span")
                                          // spanA.textContent = c.inf
                              // divA.appendChild(stronA)
                              // divA.appendChild(spanA)

                              let divR = document.createElement("div")
                                     let stronR = document.createElement("strong")
                                          // stronR.textContent = "Recide en: "
                                    // let spanR = document.createElement("a")
                                          // spanR.href = "https://www.google.com.do/maps/search/" + c.recide
                                          // spanR.target = '_blank';
                                          // spanR.textContent = c.recide
                              // divR.appendChild(stronR)
                              // divR.appendChild(spanR)

                              
                              let divK = document.createElement("div")
                                    // let stronK = document.createElement("strong")
                                          // stronK.textContent = "Referencias: "
                                    // let spanK = document.createElement("span")
                                          // spanK.textContent = c.refers
                              // divK.appendChild(stronK)
                              // divK.appendChild(spanK)


                        div.appendChild(divI);
                        div.appendChild(divL);
                        div.appendChild(divN);
                        div.appendChild(divR);
                        div.appendChild(divA);
                        div.appendChild(divK);


                        divCont.appendChild(div)
                        config_list.appendChild(divCont);
                    }
                    if (searching_config.value.trim() === "") {
                        config_list.innerHTML = ''
                        config_list.style.display = 'none'
                        document.getElementById('for-c').style.display = 'flex'
                        // document.getElementById("list-customer").style.display = "block"
                  }
                  else {
                        config_list.style.display = 'block'
                        document.getElementById('for-c').style.display = 'none'
                        // document.getElementById("list-customer").style.display = "none"
                    }
                    });
                },
                error: function(xhr, status, error) {
                    console.error('Error en la solicitud AJAX:', status, error);
                }
            });
        }
    });

    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') { // Detecta la tecla ESC
          window.location.href = '/'; // Cambia la URL a la que deseas redirigir
      }
  });
  




});

function CustomerVerify(id){
      // alert('Cliente verificado')
      //       document.getElementById('aprovate-yes').classList.remove('d-none')
      //       document.getElementById('aprovate-yes').classList.add('d-block')

      //       setTimeout(function() {
      //             document.getElementById('aprovate-yes').classList.remove('d-block')
      //             document.getElementById('aprovate-yes').classList.add('d-none')
      //             // Code to be executed after 5 seconds
      //       }, 3000);
            const url = 'verify/customer/';
            $.ajax({
                url: url,
                data: {
                  customer_id: id
                }
            })
            document.getElementById('li'+id).classList.add('d-none')
      }



function CreateCreditAjax(id){
            const url = 'create-credit-ajax/customer/';
            OpenCloseBtnCredit(id)


            let monto = document.getElementById('monto'+id).value
            let monto_cls = monto.replace(/,/g, ''); // Elimina las comas existentes
            let mt_monto = parseInt(monto_cls)
            

            let cuotas = document.getElementById('cuotas'+id).value
            let cuotas_cls = cuotas.replace(/,/g, ''); // Elimina las comas existentes
            let mt_cuotas = parseInt(cuotas_cls)

            let monto_pagar = document.getElementById('monto_pagar'+id).value
            let monto_pagar_cls = monto_pagar.replace(/,/g, ''); // Elimina las comas existentes
            let mt_monto_pagar = parseInt(monto_pagar_cls)


            $.ajax({
                url: url,
                data: {
                  customer_id: id,
                  monto: mt_monto,
                  cuotas: mt_cuotas,
                  dia: document.getElementById('dia'+id).value.split('-')[2] ,
                  monto_pagar: mt_monto_pagar,

                }
            ,
            success: function(r) {
                  let m = document.getElementById('monto-spa'+id)
                  document.getElementById('requiere'+id).innerHTML = ''
                  document.getElementById('requiere'+id).innerHTML = 'Aprobado'
                  m.innerHTML = ''
                  m.innerHTML = r.monto_requerido + '.00'
                  // Code to handle successful response
            },
            })
      }


function sumar(n) {
      var inputNumero = document.getElementById("cuotas"+n);
      var valorActual = parseInt(inputNumero.value);
      inputNumero.value = valorActual + 1;
      let numero_input = document.getElementById("monto"+n)
      let numero = numero_input.value.replace(/,/g, ''); // Elimina las comas existentes
      let capital = parseInt(numero)
      SuperCalAuto(capital, document.querySelector("#cuotas"+n).value, 
      0.15, 
      "result-cuota"+n,
      n
      )

  };
  function restar(n) {
      var inputNumero = document.getElementById("cuotas"+n);
      var valorActual = parseInt(inputNumero.value);
      if(valorActual > 0) {
            inputNumero.value = valorActual - 1;
      }

      let numero_input = document.getElementById("monto"+n)

      let numero = numero_input.value.replace(/,/g, ''); // Elimina las comas existentes
      let capital = parseInt(numero)
      SuperCalAuto(capital, document.querySelector("#cuotas"+n).value, 
      0.15, 
      "result-cuota"+n,
      n
      )
  }



  //   btn-notifycation
function NotifyCation() {
      let div = document.getElementById('div-notifycations');
    // Con cada clic, alternamos la propiedad de display del div
    if (div.style.display === 'none') {
      div.style.display = 'block';
    } else {
      div.style.display = 'none';
    }

  }



  function OpenCloseBtnCredit(btn_id) {
      const div = document.getElementById('div-credit' + btn_id);
      if (div.classList.contains('d-none')) {
          div.classList.remove('d-none');
          div.classList.add('d-block');
      //     document.getElementById('div-list-customer').classList.remove('blur')
      } else if (div.classList.contains('d-block')) {
            // document.getElementById('div-list-customer').classList.add('blur')
          div.classList.remove('d-block');
          div.classList.add('d-none');
      }
  }

  
function BoxSearch() {   
      var box_search = document.querySelector('.div-menu-1')
      if (box_search.classList.contains('d-none')) {
            box_search.classList.add('d-flex')
            box_search.classList.remove('d-none')
      } else  {
            box_search.classList.add('d-none')
            box_search.classList.remove('d-flex')
      }
  }

  let SuperCalAuto = (capital, plazo, tasa, result, id_mont)=> {
      const Cuotas = capital * tasa / (1 - Math.pow(1 + tasa, -plazo));
      let amortizacion = [];
      let saldo = capital;
      let totalIntereses = 0; 
      for (let mes = 1; mes <= plazo; mes++) {
            const interes = saldo * tasa; 
            const amortizacionCapital = Cuotas - interes;
            saldo -= amortizacionCapital;
            totalIntereses += interes; 
            amortizacion.push({
                  Mes: mes,
                  Cuota: Cuotas.toFixed(2),
                  Interes: interes.toFixed(2),
                  AmortizacionCapital: amortizacionCapital.toFixed(2),
                  Saldo: saldo.toFixed(2)
            }); }
      let totales = capital + totalIntereses
      // const numero = parseFloat(count_input.value);
            
      document.querySelector('#'+result).innerHTML = 'Cuotas mensuales de: $' + Cuotas.toLocaleString(undefined,
                              {maximumFractionDigits: 0}) + '.00';

      let precio_cuota = document.getElementById("monto_pagar"+id_mont)
      precio_cuota.value = Cuotas.toFixed(2)

      let mont = document.getElementById("monto"+id_mont)
      if(mont.value != ''){
            let numero = mont.value.replace(/,/g, ''); // Elimina las comas existentes
            if (!isNaN(numero) && numero.trim() !== '') {
                mont.value = parseFloat(numero).toLocaleString();
            } else {
                mont.value = mont.value.replace(/[^\d.]/g, ''); 
                // Elimina cualquier carácter no numérico excepto el punto decimal
            }
      }

}

function OpenCloseBtn(btn_id) {
      const div = document.getElementById('div-more' + btn_id);
      if (div.classList.contains('d-none')) {
          div.classList.remove('d-none');
          div.classList.add('d-block');
            BoxSearch()
      //     document.getElementById('div-list-customer').classList.remove('blur')
      } else if (div.classList.contains('d-block')) {
            BoxSearch()
            // document.getElementById('div-list-customer').classList.add('blur')
          div.classList.remove('d-block');
          div.classList.add('d-none');
      }
  }

  function DisableCustomer(id){
            const url = 'disable-customer/';
            $.ajax({
                url: url,
                data: {
                  customer_id: id
                },
            })
            document.getElementById('li'+id).classList.add('d-none')
            BoxSearch()
      }
     



</script>
{% endblock  %}