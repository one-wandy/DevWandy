{% extends "base/base.html" %}
{% block content %}
{% load static %}
{% load humanize %}
<style>
      .base-boyd {
            background-color: white !important;
      }
      .btn-mensajeria {
      background-color: var(--bg-enfasis) !important;
      color: white !important;
      width: max-content !important;
      
}
      .btn-mensajeria img {
      display: none;
}

.whatsapp-container {
      display: flex;
      height: 100vh;
}

.sidebar {
      width: 24%;
      background-color: #f7f7f7;
      border-right: 1px solid #ddd;
      padding: 10px;
      height: max-content;
      border-radius: 1.5rem;
}

.profile {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
}

.profile img {
      border-radius: 50%;
      width: 50px;
      height: 50px;
      margin-right: 10px;
}

.search-bar input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-sizing: border-box;
}

.chats {
      margin-top: 20px;
}

.chat {
      display: flex;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
}

.chat:hover {
      outline-color: var(--bg-enfasis) ;
}

.chat img {
      border-radius: 50%;
      width: 40px;
      height: 40px;
      margin-right: 10px;
}

.chat-info h3 {
      margin: 0;
      font-size: 16px;
}

.chat-info p {
      margin: 0;
      color: #888;
}

.chat-window {
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background-color: #fff;
}

.chat-header {
      display: flex;
      align-items: center;
      padding: 17px;
      border-bottom: 1px solid #ddd;
}

.chat-header img {
      border-radius: 50%;
      width: 30px;
      height: 30px;

}

.messages {
      flex-grow: 1;
      padding: 10px;
      overflow-y: auto;
}

.message {
      margin-bottom: 20px;
}

.message p {
      margin: 0;
      padding: 10px;
      border-radius: 5px;
}

.message.received p {
      background-color: #f1f1f1;
      align-self: flex-start;
}

.message.sent p {
      /* background-color: var(--bg-enfasis); */
      background-color: #dcf8c6;
      color: rgb(44, 44, 44); 
      align-self: flex-end;
      padding-top: 10px;
      padding-left: 20px;
}

.time {
      font-size: 12px;
      color: #888;
      margin-top: 5px;
}

.message-input {
      display: flex;
      padding: 20px;
      border-top: 1px solid #ddd;
}

.message-input input {
      flex-grow: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-right: 10px;
      box-sizing: border-box;
}

.chat, input:focus {
     outline-color: var(--bg-enfasis) !important;
}

.send-btn {
      background-color: transparent;
      /* background-color: var(--bg-enfasis); */
      color:  var(--bg-enfasis);
      border: none;
      cursor: pointer;
}

</style>
<section>



      <div class="whatsapp-container">
            <div class="chat-window  rounded-5 overflow-hidden">
                  <div class="chat-header" 
                        style="background-color: var(--bg-enfasis); 
                        border-bottom-left-radius: 0.4rem;
                        border-bottom-right-radius: 0.4rem;">
                        <span class="bg-white rounded-circle me-2 p-1">
                              <img src="{{company.Icon.url}}" alt="Contact Picture">
                        </span>
                        <span class="text-white" style="font-weight: bold;">Nicolas De Jesus Armando</span>
                  </div>
                  <div class="messages d-flex">
                        <section class="w-100 d-flex flex-wrap align-content-end">
                              <div class='d-flex'>
                                    <div class="message received">
                                          <p class="w-100 " style="border-radius: 1.5rem; border-top-left-radius: 0rem;">Received message</p>
                                          <span class="time">10:00 AM</span>
                                    </div>
                                 </div>
                                   <div class='d-flex w-100 justify-content-end '>
                                          <div class="message sent position-relative  p-2 pb-4 "
                                                 style='width: 40rem;'>
                                                <p class="w-100 " style="border-radius: 1.5rem; border-bottom-right-radius: 0rem;">Sent message Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum, quo tempore delectus, facilis dolores excepturi deserunt ex debitis rerum amet fugiat blanditiis provident maxime soluta sint molestias nobis voluptatum vel?
            
                                                </p>
                                                <span class="time text-end me-2  mb-1 position-absolute bottom-0 end-0 ">10:01 AM</span>
                                          </div>
                                   </div>
                                   <div class="message-input w-100 border-0 position-sticky bottom-0">
                                    <input type="text" placeholder="Escribe mensaje" class="rounded-5 input-ms">
                                    <button class="send-btn d-none rounded-circle">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-send-fill m-0 p-0 " viewBox="0 0 16 16">
                                          <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"/>
                                        </svg>
                                    </button>
                              </div>
                        </section>
                        <!-- Repeat message div for more messages -->
                       <section class="align-content-end w-25 ">
                        <div class="sidebar card shadow w-100">
                              <div class="search-bar">
                                    <input type="text" placeholder="Buscar chat" class="rounded-5">
                              </div>
                              <div class="chats overflow-scroll w-100 h-100">
            
                                    <div class="chat border-0">
                                          <img src="{% static 'images/contact.png' %}" alt="Contact Picture">
                                          <div class="chat-info">
                                                <h3>Contact Name {{ forloop.counter }}</h3>
                                                <p>Last message...</p>
                                          </div>
                                    </div>
                              
                                    <!-- Repeat chat div for more contacts -->
                              </div>
                        </div>
                       </section>
                  </div>
                 
                
            </div>
      </div>

</section>

<script>
      document.querySelector('.input-ms').addEventListener('input', function() {
            if (this.value.length > 2) {
                  document.querySelector('.send-btn').classList.remove('d-none');
            } else {
                  document.querySelector('.send-btn').classList.add('d-none');
            }
      });
</script>
{% endblock %}